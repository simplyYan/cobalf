class Cobalf{constructor(){this.initLazyLoadingAndSkeletonScreen(),this.toolboxActivated=!1,this.requestIds=[],this.localStorageKey="cobalfEncryptionKey"}static New(){return new Cobalf}initLazyLoadingAndSkeletonScreen(){window.addEventListener("load",(()=>{const t=performance.getEntriesByType("navigation")[0];t.domContentLoadedEventEnd-t.startTime>2e3&&this.enableLazyLoading()}))}enableLazyLoading(){document.querySelectorAll("img[data-src]").forEach((t=>{t.setAttribute("src",t.getAttribute("data-src")),t.onload=function(){t.removeAttribute("data-src")}}))}enableSkeletonScreen(){document.querySelectorAll(".skeleton").forEach((t=>{t.classList.add("loaded")}))}RequestMade(t){return this.requestIds.includes(t)}Select(t,e){const n=t.match(/::(.*?)::/g);return n&&n.length>=e?n[e-1].replace(/::/g,"").trim():null}Replace(t,e,n){const r=t.innerHTML.match(/::(.*?)::/g);t.innerHTML=t.innerHTML.replace(r[e-1],n)}InputValue(t){return t.value}Clipboard(t){navigator.clipboard.writeText(t)}SetAttribute(t,e,n){this.Id(t).setAttribute(e,n)}Id(t){return document.getElementById(t)}Toolbox(){this.toolboxActivated=!0,this.currentDate=new Date,this.lastModified=document.lastModified}LocalKey(t){return`${t}_${Math.random().toString(36).substr(2,9)}`}LocalStorage(t,e){const n=this.encrypt(t,e);localStorage.setItem(e,n)}CSS(t){const e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e)}GetStorage(t){const e=localStorage.getItem(t);return this.decrypt(e,t)}encrypt(t,e){return btoa(t+e)}decrypt(t,e){return atob(t).replace(e,"")}HTML(t){const e=this.sanitizeHTML(t);document.body.insertAdjacentHTML("beforeend",e)}sanitizeHTML(t){const e=document.createElement("div");return e.innerHTML=t,e.textContent}Request(t,e,n){const r=new XMLHttpRequest;r.open(t.type,t.url,!0),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){r.status>=200&&r.status<300?e(r.responseText):n(r.statusText)},r.onerror=function(){n(r.statusText)},r.send(JSON.stringify(t.data))}createElement(t,e,...n){return{type:t,props:e,children:n}}render(t,e){if("string"==typeof t){const n=document.createTextNode(t);return e.appendChild(n)}const n=document.createElement(t.type);for(let e in t.props)n.setAttribute(e,t.props[e]);return t.children.forEach((t=>this.render(t,n))),e.appendChild(n)}createComponent(t){return function(e){const n=new t(e);return this.createElement(n.render())}}mountComponent(t,e){const n=this.createComponent(t);this.render(n,e)}reactive(t){return new Proxy(t,{set:(t,e,n)=>(t[e]=n,!0)})}state={};setState(t){this.state={...this.state,...t},this.render()}routes={};route(t,e){this.routes[t]=e}navigate(t){window.history.pushState({},t,window.location.origin+t),this.render()}render(){const t=window.location.pathname,e=this.routes[t];document.body.innerHTML="",e&&this.mountComponent(e,document.body)}}class Mobalf{constructor(t){this.el="string"==typeof t?document.querySelector(t):t,this.transforms=[],this.durationVal="2s"}transform(t){return this.transforms.push(t),this}translate(t,e=0){return this.transform(`translate(${t}px, ${e}px)`)}rotate(t){return this.transform(`rotate(${t}deg)`)}scale(t,e=t){return this.transform(`scale(${t}, ${e})`)}set(t,e){return this.el.style[t]=e,this}duration(t){return this.durationVal="string"==typeof t?t:`${t}ms`,this}end(t){return this.el.style.transitionDuration=this.durationVal,this.transforms.length&&(this.el.style.transform=this.transforms.join(" ")),t&&setTimeout(t,1e3*parseFloat(this.durationVal)),this}}window.onpopstate=()=>{cobalf.render()};
